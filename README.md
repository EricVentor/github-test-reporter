# Github Actions Publish Test Results

> View Test Results Report on Github Actions

Display test results directly within your GitHub workflow summary without installing a custom action.

![Example view](images/summary.png)

⭐ **If you find this project useful, consider giving it a GitHub star** ⭐

It means a lot to us and helps us grow this open source library.

## Features

- View test results on Github Actions summary
- Several views available, `Test Summary`, `Test Details`, `Failed Tests`, `Flaky Tests`
- Run with a single command `npx github-actions-ctrf your-report.json`
- Detect flaky tests

## Usage

Add to your Github Actions workfile file:

``` bash
npx github-actions-ctrf path-to-your-ctrf-report.json
```

Before using the commands, ensure that your GitHub Actions runner has Node.js installed.

You'll need a CTRF report generated by your testing framework. [CTRF reporters](https://www.ctrf.io/docs/category/reporters) are available for most testing frameworks and easy to install.

Full example:

``` yaml
name: Example workflow file

on: [push]

jobs:
  testing:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
    - name: Run CTRF annotations
      run: npx github-actions-ctrf path-to-your-ctrf-report.json
```

### Generating All Tables

For a all tables, add the following to your workflow YAML:

``` yaml
- name: Publish CTRF Test Summary Results
  run: npx github-actions-ctrf path-to-your-ctrf-report.json
```

### Generating Test Summary Table

For a test summary table, add the `summary` argument to your workflow yaml:

``` yaml
- name: Publish CTRF Test Summary Results
  run: npx github-actions-ctrf summary path-to-your-ctrf-report.json
```

### Generating Detailed Test Table

For a test details table, add the `tests` argument to your workflow yaml:

``` yaml
- name: Publish CTRF Detailed Test Summary Results
  run: npx github-actions-ctrf tests path-to-your-ctrf-report.json
```

### Generating Failed Test Details Table

For a failed test details table, add the `failed` argument to your workflow yaml:

``` yaml
- name: Publish CTRF Failed Test Summary Results
  run: npx github-actions-ctrf failed path-to-your-ctrf-report.json
```

### Generating Flaky Test Details Table

For a flaky test details table, add the `flaky` argument to your workflow yaml:

``` yaml
- name: Publish CTRF Flaky Test Summary Results
  run: npx github-actions-ctrf flaky path-to-your-ctrf-report.json
```

### Generating Fail annotations

For test annotations, add the `annotate` argument to your workflow yaml:


``` yaml
- name: Annotate failed tests
  run: npx github-actions-ctrf annotate path-to-your-ctrf-report.json
```

## Components

[Click here](https://github.com/github-actions-ctrf/actions) to see the Actions of this repository for a full example

### Summary

![Summary](images/summary.png)

### Test details

![Tests](images/tests.png)

### Failed details

![Failed](images/failed.png)

### Flaky details

![Flaky](images/flaky.png)

## What is CTRF?

CTRF is a universal JSON test report schema that addresses the lack of a standardized format for JSON test reports.

**Consistency Across Tools:** Different testing tools and frameworks often produce reports in varied formats. CTRF ensures a uniform structure, making it easier to understand and compare reports, regardless of the testing tool used.

**Language and Framework Agnostic:** It provides a universal reporting schema that works seamlessly with any programming language and testing framework.

**Facilitates Better Analysis:** With a standardized format, programatically analyzing test outcomes across multiple platforms becomes more straightforward.

## Support Us

If you find this project useful, consider giving it a GitHub star ⭐ It means a lot to us.
